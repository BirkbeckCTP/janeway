{% extends "admin/core/base.html" %}
{% load static from staticfiles %}
{% load foundation %}
{% load roles %}
{% user_has_role request 'journal-manager' as user_is_journal_manager %}

{% block title %}Submission Configurator{% endblock %}
{% block title-section %}Submission Configurator{% endblock %}
{% block title-sub %}Control journal submission fields{% endblock %}

{% block breadcrumbs %}
    {{ block.super }}
    <li><a href="{% url 'core_manager_index' %}">Manager</a></li>
    <li><a href="{% url 'submission_configurator' %}">Submission Configurator</a></li>
{% endblock %}

{% block body %}
    <div class="box">
        <div class="row expanded">
            <div class="large-6 columns">
                {% if user_is_journal_manager %}
                <p>Here you can configure the submission system fields. Any unchecked field will not display during the
                    submission process. You should set a default license, language and section so that these fields
                    can be configured when the fields are not being used.</p>
                <form method="POST">
                    {% csrf_token %}
                    {% include "elements/forms/errors.html" %}
                    {{ form|foundation }}
                    <button class="success button">Save Configuration</button>
                </form>
                {% else %}
                <p>Only users with the journal-manager role may configure this.</p>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}